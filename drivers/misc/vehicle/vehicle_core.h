/*
 * Copyright 2018 NXP
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 */
#ifndef VEHICLE_CORE_H
#define VEHICLE_CORE_H

#include <net/net_namespace.h>

// seat temperature indexes
#define SEAT_TEMP_LEFT_INDEX 1
#define SEAT_TEMP_RIGHT_INDEX 4
// seat temperature values
#define SEAT_TEMP_0 0 // off
#define SEAT_TEMP_1 1
#define SEAT_TEMP_2 2
#define SEAT_TEMP_3 3

#define DEFROST_ON 1
#define DEFROST_OFF 0

#define AC_ON 1
#define AC_OFF 0

#define AUTO_ON 1
#define AUTO_OFF 0

#define HVAC_ON 1
#define HVAC_OFF 0

#define RECIRC_ON 1
#define RECIRC_OFF 0

#define FAN_SPEED_0 1
#define FAN_SPEED_1 2
#define FAN_SPEED_2 3
#define FAN_SPEED_3 4
#define FAN_SPEED_4 5
#define FAN_SPEED_5 6

#define FAN_DIRECTION_0 1
#define FAN_DIRECTION_1 2
#define FAN_DIRECTION_2 3
#define FAN_DIRECTION_3 6

struct vehicle_property_set {
	u32 prop;
	u32 area_id;
	u64 value;
};

struct vehicle_power_req {
	u32 prop;
	u32 state;
	u32 param;
};

struct hw_prop_ops {
	/* send the control commands to hw */
	void (*set_control_commands)(u32 prop, u32 area, u32 value);
};

/* areaId defines - begin */
#define VEHICLE_AREA_SEAT_ROW_1_LEFT   1    /* 0x0001 */
#define VEHICLE_AREA_SEAT_ROW_1_CENTER 2    /* 0x0002 */
#define VEHICLE_AREA_SEAT_ROW_1_RIGHT  4    /* 0x0004 */
#define VEHICLE_AREA_SEAT_ROW_2_LEFT   16   /* 0x0010 */
#define VEHICLE_AREA_SEAT_ROW_2_CENTER 32   /* 0x0020 */
#define VEHICLE_AREA_SEAT_ROW_2_RIGHT  64   /* 0x0040 */
#define VEHICLE_AREA_SEAT_ROW_3_LEFT   256  /* 0x0100 */
#define VEHICLE_AREA_SEAT_ROW_3_CENTER 512  /* 0x0200 */
#define VEHICLE_AREA_SEAT_ROW_3_RIGHT  1024 /* 0x0400 */

#define HVAC_LEFT VEHICLE_AREA_SEAT_ROW_1_LEFT
#define HVAC_RIGHT VEHICLE_AREA_SEAT_ROW_1_RIGHT
//Due to VHAL migration from hidl to aidl, details in commit message
#define HVAC_ALL VEHICLE_AREA_SEAT_ROW_1_LEFT
/* areaId defines - end */

#define HVAC_FAN_SPEED 356517120
#define HVAC_FAN_DIRECTION 356517121
#define HVAC_AUTO_ON 354419978
#define HVAC_AC_ON 354419973
#define HVAC_RECIRC_ON 354419976
#define HVAC_DEFROSTER 320865540
#define HVAC_TEMPERATURE_SET 358614275
#define HVAC_POWER_ON 354419984

#define TURN_SIGNAL_STATE 289408008
#define GEAR_SELECTION 289408000
#define CURRENT_GEAR 289408001

#define AP_POWER_STATE_REQ 289475072
#define AP_POWER_STATE_REPORT 289475073

#define VEHICLE_GEAR_DRIVE_CLIENT 8
#define VEHICLE_GEAR_PARK_CLIENT 4
#define VEHICLE_GEAR_REVERSE_CLIENT 2

#define WATCHDOG_ALIVE 290459441
#define HVAC_SEAT_TEMPERATURE 356517131
#define DISPLAY_BRIGHTNESS 289409539
#define INFO_MAKE 286261505
#define INFO_MODEL 286261506
#define POWER_POLICY_REQ 286265121
#define POWER_POLICY_GROUP_REQ 286265122
#define CURRENT_POWER_POLICY 286265123
#define FUEL_DOOR_OPEN 287310600
#define EV_CHARGE_PORT_OPEN 287310602
#define EV_CHARGE_PORT_CONNECTED 287310603
#define PARKING_BRAKE_ON 287310850
#define PARKING_BRAKE_AUTO_APPLY 287310851
#define FUEL_LEVEL_LOW 287310853
#define NIGHT_MODE 287310855
#define ABS_ACTIVE 287310858
#define TRACTION_CONTROL_ACTIVE 287310859
#define SUPPORT_CUSTOMIZE_VENDOR_PERMISSION 287313669
#define INFO_MODEL_YEAR 289407235
#define INFO_FUEL_DOOR_LOCATION 289407240
#define INFO_EV_PORT_LOCATION 289407241
#define ENGINE_OIL_LEVEL 289407747
#define IGNITION_STATE 289408009
#define HVAC_STEERING_WHEEL_HEAT 289408269
#define HVAC_TEMPERATURE_DISPLAY_UNITS 289408270
#define DISTANCE_DISPLAY_UNITS 289408512
#define TIRE_PRESSURE_DISPLAY_UNITS 289408514
#define VEHICLE_SPEED_DISPLAY_UNITS 289408517
#define HEADLIGHTS_STATE 289410560
#define HIGH_BEAM_LIGHTS_STATE 289410561
#define FOG_LIGHTS_STATE 289410562
#define PARKING_BRAKE_AUTO_APPLY 287310851
#define HAZARD_LIGHTS_STATE 289410563
#define HEADLIGHTS_SWITCH 289410576
#define HIGH_BEAM_LIGHTS_SWITCH 289410577
#define FOG_LIGHTS_SWITCH 289410578
#define HAZARD_LIGHTS_SWITCH 289410579
#define CLUSTER_SWITCH_UI 289410868
#define CLUSTER_REQUEST_DISPLAY 289410871
#define POWER_POLICY_GROUP_REQ 286265122
#define CURRENT_POWER_POLICY 286265123
#define ELECTRONIC_TOLL_COLLECTION_CARD_TYPE 289410873
#define ELECTRONIC_TOLL_COLLECTION_CARD_STATUS 289410874
#define INFO_FUEL_TYPE 289472773
#define INFO_EV_CONNECTOR_TYPE 289472775
#define INFO_DRIVER_SEAT 356516106
#define INFO_EXTERIOR_DIMENSIONS 289472779
#define INFO_MULTI_EV_PORT_LOCATIONS 289472780
#define HW_KEY_INPUT 289475088
#define HW_ROTARY_INPUT 289475104
#define HW_CUSTOM_INPUT 289475120
#define EVS_SERVICE_REQUEST 289476368
#define CLUSTER_DISPLAY_STATE 289476405
#define EPOCH_TIME 290457094
#define VHAL_HEARTBEAT 290459443
#define WHEEL_TICK 290521862
#define INFO_FUEL_CAPACITY 291504388
#define INFO_EV_BATTERY_CAPACITY 291504390
#define PERF_ODOMETER 291504644
#define PERF_VEHICLE_SPEED 291504647
#define PERF_STEERING_ANGLE 291504649
#define PERF_REAR_STEERING_ANGLE 291504656
#define ENGINE_OIL_TEMP 291504900
#define ENGINE_RPM 291504901
#define FUEL_LEVEL 291504903
#define RANGE_REMAINING 291504904
#define EV_BATTERY_LEVEL 291504905
#define EV_BATTERY_INSTANTANEOUS_CHARGE_RATE 291504908
#define ENV_OUTSIDE_TEMPERATURE 291505923
#define HVAC_TEMPERATURE_VALUE_SUGGESTION 291570965
#define STORAGE_ENCRYPTION_BINDING_SEED 292554247
#define CLUSTER_NAVIGATION_STATE 292556600
#define INITIAL_USER_INFO 299896583
#define SWITCH_USER 299896584
#define CREATE_USER 299896585
#define REMOVE_USER 299896586
#define USER_IDENTIFICATION_ASSOCIATION 299896587
#define WATCHDOG_TERMINATED_PROCESS 299896626
#define CLUSTER_REPORT_STATE 299896630
#define HVAC_ELECTRIC_DEFROSTER_ON 320865556
#define WINDOW_LOCK 320867268
#define VEHICLE_MAP_SERVICE 299895808
#define WINDOW_POS 322964416
#define HVAC_MAX_AC_ON 354419974
#define HVAC_MAX_DEFROST_ON 354419975
#define HVAC_DUAL_ON 354419977
#define HVAC_AUTO_RECIRC_ON 354419986
#define HVAC_SEAT_VENTILATION 356517139
#define HVAC_ELECTRIC_DEFROSTER_ON 320865556
#define SEAT_OCCUPANCY 356518832
#define HVAC_FAN_DIRECTION_AVAILABLE 356582673
#define DOOR_LOCK 371198722
#define DOOR_POS 373295872
#define TIRE_PRESSURE 392168201
#define CRITICALLY_LOW_TIRE_PRESSURE 392168202
#define FRONT_FOG_LIGHTS_STATE 289410875
#define FRONT_FOG_LIGHTS_SWITCH 289410876
#define REAR_FOG_LIGHTS_STATE 289410877
#define REAR_FOG_LIGHTS_SWITCH 289410878
#define EV_CHARGE_CURRENT_DRAW_LIMIT 291508031
#define EV_CHARGE_PERCENT_LIMIT 291508032
#define EV_CHARGE_STATE 289410881
#define EV_CHARGE_SWITCH 287313730
#define EV_CHARGE_TIME_REMAINING 289410883
#define EV_REGENERATIVE_BRAKING_STATE 289410884
#define TRAILER_PRESENT 289410885
#define VEHICLE_CURB_WEIGHT 289410886
#define READING_LIGHTS_SWITCH 356519684
#define SEAT_BELT_HEIGHT_POS 356518787
#define WINDOW_MOVE 322964417
#define MIRROR_AUTO_TILT_ENABLED 337644359
#define SEAT_FORE_AFT_POS 356518789
#define EV_BATTERY_DISPLAY_UNITS 289408515
#define SEAT_HEIGHT_MOVE 356518796
#define INFO_VIN 286261504
#define SEAT_HEADREST_ANGLE_POS 356518807
#define SEAT_HEADREST_ANGLE_MOVE 356518808
#define ENGINE_COOLANT_TEMP 291504897
#define MIRROR_LOCK 287312708
#define HVAC_ACTUAL_FAN_SPEED_RPM 356517135
#define SEAT_BELT_HEIGHT_MOVE 356518788
#define SEAT_FORE_AFT_MOVE 356518790
#define SEAT_BACKREST_ANGLE_2_MOVE 356518794
#define SEAT_HEIGHT_POS 356518795
#define SEAT_TILT_POS 356518799
#define SEAT_DEPTH_MOVE 356518798
#define SEAT_LUMBAR_FORE_AFT_POS 356518801
#define SEAT_EASY_ACCESS_ENABLED 354421661
#define SEAT_LUMBAR_FORE_AFT_MOVE 356518802
#define SEAT_AIRBAG_ENABLED 354421662
#define AUTOMATIC_EMERGENCY_BRAKING_ENABLED 287313920
#define SEAT_LUMBAR_SIDE_SUPPORT_POS 356518803
#define SEAT_LUMBAR_SIDE_SUPPORT_MOVE 356518804
#define SEAT_MEMORY_SELECT 356518784
#define HANDS_ON_DETECTION_DRIVER_STATE 289411095
#define SEAT_HEADREST_HEIGHT_MOVE 356518806
#define SEAT_HEADREST_FORE_AFT_POS 356518809
#define MIRROR_FOLD 287312709
#define SEAT_HEADREST_FORE_AFT_MOVE 356518810
#define GLOVE_BOX_LOCKED 354421745
#define SEAT_TILT_MOVE 356518800
#define MIRROR_Z_POS 339741504
#define HVAC_SIDE_MIRROR_HEAT 339739916
#define SEAT_LUMBAR_VERTICAL_POS 356518817
#define SEAT_FOOTWELL_LIGHTS_SWITCH 356518812
#define WINDSHIELD_WIPERS_STATE 322964422
#define SEAT_DEPTH_POS 356518797
#define SEAT_HEADREST_HEIGHT_POS_V2 356518820
#define EV_CURRENT_BATTERY_CAPACITY 291504909
#define EV_BRAKE_REGENERATION_LEVEL 289408012
#define SEAT_LUMBAR_VERTICAL_MOVE 356518818
#define SEAT_WALK_IN_POS 356518819
#define SEAT_BELT_BUCKLED 354421634
#define SEAT_BACKREST_ANGLE_1_POS 356518791
#define LANE_KEEP_ASSIST_STATE 289411081
#define LANE_CENTERING_ASSIST_ENABLED 287313930
#define SEAT_BACKREST_ANGLE_1_MOVE 356518792
#define SEAT_BACKREST_ANGLE_2_POS 356518793
#define MIRROR_AUTO_FOLD_ENABLED 337644358
#define BLIND_SPOT_WARNING_ENABLED 287313924
#define EV_STOPPING_MODE 289408013
#define STEERING_WHEEL_LIGHTS_STATE 289410828
#define MIRROR_Z_MOVE 339741505
#define SEAT_CUSHION_SIDE_SUPPORT_POS 356518815
#define MIRROR_Y_MOVE 339741507
#define AUTOMATIC_EMERGENCY_BRAKING_STATE 289411073
#define FORWARD_COLLISION_WARNING_ENABLED 287313922
#define SEAT_MEMORY_SET 356518785
#define HANDS_ON_DETECTION_WARNING 289411096
#define WINDSHIELD_WIPERS_PERIOD 322964421
#define SEAT_FOOTWELL_LIGHTS_STATE 356518811
#define DOOR_CHILD_LOCK_ENABLED 371198723
#define DOOR_MOVE 373295873
#define WINDSHIELD_WIPERS_SWITCH 322964423
#define STEERING_WHEEL_DEPTH_POS 289410016
#define GLOVE_BOX_DOOR_POS 356518896
#define STEERING_WHEEL_HEIGHT_POS 289410018
#define STEERING_WHEEL_THEFT_LOCK_ENABLED 287312868
#define SEAT_CUSHION_SIDE_SUPPORT_MOVE 356518816
#define CABIN_LIGHTS_STATE 289410817
#define STEERING_WHEEL_EASY_ACCESS_ENABLED 287312870
#define CABIN_LIGHTS_SWITCH 289410818
#define STEERING_WHEEL_HEIGHT_MOVE 289410019
#define STEERING_WHEEL_LIGHTS_SWITCH 289410829
#define FUEL_CONSUMPTION_UNITS_DISTANCE_OVER_VOLUME 287311364
#define MIRROR_Y_POS 339741506
#define LOCATION_CHARACTERIZATION 289410064
#define EMERGENCY_LANE_KEEP_ASSIST_STATE 289411086
#define CRUISE_CONTROL_TYPE 289411088
#define CRUISE_CONTROL_STATE 289411089
#define STEERING_WHEEL_LOCKED 287312869
#define ADAPTIVE_CRUISE_CONTROL_TARGET_TIME_GAP 289411092
#define ADAPTIVE_CRUISE_CONTROL_LEAD_VEHICLE_MEASURED_DISTANCE 289411093
#define HANDS_ON_DETECTION_ENABLED 287313942
#define FORWARD_COLLISION_WARNING_STATE 289411075
#define STEERING_WHEEL_DEPTH_MOVE 289410017
#define EMERGENCY_LANE_KEEP_ASSIST_ENABLED 287313933
#define GENERAL_SAFETY_REGULATION_COMPLIANCE 289410887
#define LANE_CENTERING_ASSIST_STATE 289411084
#define CRUISE_CONTROL_ENABLED 287313935
#define PERF_VEHICLE_SPEED_DISPLAY 291504648
#define HVAC_TEMPERATURE_CURRENT 358614274
#define LANE_KEEP_ASSIST_ENABLED 287313928
#define READING_LIGHTS_STATE 356519683
#define CRUISE_CONTROL_TARGET_SPEED 291508243
#define ENGINE_IDLE_AUTO_STOP_ENABLED 287310624
#define BLIND_SPOT_WARNING_STATE 339742725
#define LANE_DEPARTURE_WARNING_ENABLED 287313926
#define FUEL_VOLUME_DISPLAY_UNITS 289408513
#define LANE_DEPARTURE_WARNING_STATE 289411079

/* (int)(0x104 | VehiclePropertyGroup::
 * VENDOR | VehiclePropertyType::STRING | VehicleArea::GLOBAL);
 */
#define VENDOR_EXTENSION_STRING_PROPERTY 554696964
/* (int)(0x101 | VehiclePropertyGroup::
 * VENDOR | VehiclePropertyType::BOOLEAN | VehicleArea::DOOR);
 */
#define VENDOR_EXTENSION_BOOLEAN_PROPERTY 639631617
/* (int)(0x102 | VehiclePropertyGroup::
 * VENDOR | VehiclePropertyType::FLOAT | VehicleArea::SEAT);
 */
#define VENDOR_EXTENSION_FLOAT_PROPERTY 627048706
/* (int)(0x103 | VehiclePropertyGroup::
 * VENDOR | VehiclePropertyType::INT32 | VehicleArea::WINDOW);
 */
#define VENDOR_EXTENSION_INT_PROPERTY 591397123
/* 0x1111 | VehiclePropertyGroup::
 * VENDOR | VehicleArea::GLOBAL | VehiclePropertyType::MIXED;
 */
#define kMixedTypePropertyForTest 568332561

/*vehicle_event_type: stateType in command VSTATE*/
enum vehicle_event_type {
	VEHICLE_AC = 0,
	VEHICLE_AUTO_ON,
	VEHICLE_AC_TEMP,
	VEHICLE_FAN_SPEED,
	VEHICLE_FAN_DIRECTION,
	VEHICLE_RECIRC_ON,
	VEHICLE_HEATER,
	VEHICLE_DEFROST,
	VEHICLE_HVAC_POWER_ON,
	VEHICLE_MUTE,
	VEHICLE_VOLUME,
	VEHICLE_DOOR,
	VEHICLE_RVC,
	VEHICLE_LIGHT,
	VEHICLE_GEAR,
	VEHICLE_TURN_SIGNAL,
	VEHICLE_POWER_STATE_REQ,
	VEHICLE_SEAT_TEMPERATURE,
	VEHICLE_UNSUPPORTED = -1,
};

/*vehicle_event_gear: stateValue of type VEHICLE_GEAR*/
enum vehicle_event_gear {
	VEHICLE_GEAR_NONE = 0,
	VEHICLE_GEAR_PARKING,
	VEHICLE_GEAR_REVERSE,
	VEHICLE_GEAR_NEUTRAL,
	VEHICLE_GEAR_DRIVE,
	VEHICLE_GEAR_FIRST,
	VEHICLE_GEAR_SECOND,
	VEHICLE_GEAR_SPORT,
	VEHICLE_GEAR_MANUAL_1,
	VEHICLE_GEAR_MANUAL_2,
	VEHICLE_GEAR_MANUAL_3,
	VEHICLE_GEAR_MANUAL_4,
	VEHICLE_GEAR_MANUAL_5,
	VEHICLE_GEAR_MANUAL_6,
};

extern struct net init_net;
extern void vehicle_hw_prop_ops_register(const struct hw_prop_ops *prop_ops);
extern void vehicle_set_property(u16 prop, u8 index, u32 value, u32 param);


#endif
